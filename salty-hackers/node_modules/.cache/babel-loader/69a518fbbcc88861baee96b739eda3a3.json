{"ast":null,"code":"var _jsxFileName = \"/Users/jamiesullivan/lambda/Frontend/salty-hackers/src/components/Sign Up/SignUp.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport SignUpForm from './SignUpForm';\nimport { Route, Link } from 'react-router-dom';\nimport * as yup from 'yup';\nimport formSchema from '../../validation/formSchema';\nconst intaialFormValues = {\n  first_name: '',\n  last_name: '',\n  username: '',\n  password: ''\n};\nconst initalFormErrors = {\n  first_name: '',\n  last_name: '',\n  username: '',\n  password: ''\n};\nconst intialDisabled = true;\nconst url = `https://reqres.in/api/users`;\nexport default function SignUp() {\n  //state\n  const [formValues, setFormValues] = useState(intaialFormValues);\n  const [users, addUsers] = useState([]);\n  const [formErrors, setFormErrors] = useState(initalFormErrors);\n  const [disabled, setDisabled] = useState(intialDisabled); //post new user  \n\n  const postNewUser = newUser => {\n    axios.post(url, newUser).then(res => {\n      console.log(res);\n      addUsers([res.data, ...users]);\n    }).catch(err => {\n      debugger;\n    }).finally(() => {\n      setFormValues(intaialFormValues);\n    });\n  }; //change handlers\n\n\n  const onInputChange = evt => {\n    const name = evt.target.name;\n    const value = evt.target.value;\n    yup.reach(formSchema, name).validate(value).then(valid => {\n      setFormErrors({ ...formErrors,\n        [name]: ''\n      });\n    }).catch(err => {\n      setFormErrors({ ...formErrors,\n        [name]: err.errors[0]\n      });\n    });\n    setFormValues({ ...formValues,\n      [name]: value\n    });\n  };\n\n  const onSubmit = evt => {\n    evt.preventDefault();\n    const newUser = {\n      first_name: formValues.first_name.trim(),\n      last_name: formValues.last_name.trim(),\n      username: formValues.username.trim(),\n      password: formValues.password.trim()\n    };\n    postNewUser(newUser);\n  };\n\n  useEffect(() => {\n    formSchema.isValid(formValues).then(valid => {\n      setDisabled(!valid);\n    });\n  }, [formValues]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(Route, {\n    path: \"/sign-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(SignUpForm, {\n    values: formValues,\n    onSubmit: onSubmit,\n    onInputChange: onInputChange,\n    errors: formErrors,\n    disabled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/jamiesullivan/lambda/Frontend/salty-hackers/src/components/Sign Up/SignUp.js"],"names":["React","useState","useEffect","axios","SignUpForm","Route","Link","yup","formSchema","intaialFormValues","first_name","last_name","username","password","initalFormErrors","intialDisabled","url","SignUp","formValues","setFormValues","users","addUsers","formErrors","setFormErrors","disabled","setDisabled","postNewUser","newUser","post","then","res","console","log","data","catch","err","finally","onInputChange","evt","name","target","value","reach","validate","valid","errors","onSubmit","preventDefault","trim","isValid"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport SignUpForm from './SignUpForm';\nimport { Route, Link} from 'react-router-dom';\nimport * as yup from 'yup';\nimport formSchema from '../../validation/formSchema';\n\n\nconst intaialFormValues = {\n    first_name: '',\n    last_name: '',\n    username: '',\n    password: ''\n  }\n  \n  const initalFormErrors = {\n    first_name: '',\n    last_name: '',\n    username: '',\n    password: ''\n  }\n\n  const intialDisabled = true \n\n  const url = `https://reqres.in/api/users`\n\n  export default function SignUp() {\n    //state\n\n    const [ formValues, setFormValues ] = useState(intaialFormValues)\n    const [ users, addUsers] = useState([])\n    const [ formErrors, setFormErrors ] = useState(initalFormErrors)\n    const [ disabled, setDisabled ] = useState(intialDisabled)\n\n\n  //post new user  \n    const postNewUser = newUser => {\n        axios.post(url, newUser)\n        .then(res => {\n          console.log(res)\n          addUsers([res.data, ...users])\n        })\n        .catch(err => {\n          debugger\n        })\n        .finally(() => {\n          setFormValues(intaialFormValues)\n        })\n      \n      }\n\n\n  //change handlers\n      const onInputChange = evt => {\n          const name = evt.target.name\n          const value = evt.target.value\n\n\n          yup\n            .reach(formSchema, name)\n            .validate(value)\n            .then(valid => {\n              setFormErrors({\n                ...formErrors,\n                [name]: ''\n              })\n            })\n            .catch(err => {\n              setFormErrors({\n                ...formErrors,\n                [name]:err.errors[0]\n              })\n            })\n\n            setFormValues({\n              ...formValues, [name]:value\n            })\n      }    \n\n        \n      const onSubmit = evt => {\n        evt.preventDefault()\n        const newUser = {\n            first_name: formValues.first_name.trim(),\n            last_name: formValues.last_name.trim(),\n            username: formValues.username.trim(),\n            password: formValues.password.trim(),\n          }\n      \n          postNewUser(newUser)\n          }\n\n  useEffect(() => {\n        formSchema.isValid(formValues)\n            .then(valid => {\n              setDisabled(!valid)\n            })\n          }, [formValues])\n\n\n      return (\n          \n          <div>\n            <Link to='/login'>\n              <button>Login</button>\n            </Link>\n            \n          \n              <Route path='/sign-up'> \n                <SignUpForm values = {formValues} onSubmit = {onSubmit}\n                onInputChange = {onInputChange} errors = {formErrors} disabled />\n              </Route>\n          </div>\n\n      \n      \n\n      )\n\n\n  }\n\n\n  \n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}