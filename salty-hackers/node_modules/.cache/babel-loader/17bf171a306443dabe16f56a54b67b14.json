{"ast":null,"code":"var _jsxFileName = \"/Users/jamiesullivan/lambda/Frontend/salty-hackers/src/components/Sign Up/SignUp.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport SignUpForm from './SignUpForm';\nimport { Route, Link } from 'react-router-dom';\nimport * as yup from 'yup';\nimport formSchema from './validation/formSchema';\nconst intaialFormValues = {\n  first_name: '',\n  last_name: '',\n  username: '',\n  password: ''\n};\nconst initalFormErrors = {\n  first_name: '',\n  last_name: '',\n  username: '',\n  password: ''\n};\nconst url = `https://reqres.in/api/users`;\nexport default function SignUp() {\n  //state\n  const [formValues, setFormValues] = useState(intaialFormValues);\n  const [users, addUsers] = useState([]);\n  const [formErrors, setFormErrors] = useState(initalFormErrors); //post new user  \n\n  const postNewUser = newUser => {\n    axios.post(url, newUser).then(res => {\n      console.log(res);\n      addUsers([res.data, ...users]);\n    }).catch(err => {\n      debugger;\n    }).finally(() => {\n      setFormValues(intaialFormValues);\n    });\n  }; //change handlers\n\n\n  const onInputChange = evt => {\n    const name = evt.target.name;\n    const value = evt.target.value;\n    yup.reach(formSchema, name).validate(value).then(valid => {\n      setFormErrors({ ...formErrors,\n        [name]: ''\n      });\n    }).catch(err => {\n      setFormErrors({ ...formErrors,\n        [name]: err.errors[0]\n      });\n    });\n    setFormValues({ ...formValues,\n      [name]: value\n    });\n  };\n\n  const onSubmit = evt => {\n    evt.preventDefault();\n    const newUser = {\n      first_name: formValues.first_name.trim(),\n      last_name: formValues.last_name.trim(),\n      username: formValues.username.trim(),\n      password: formValues.password.trim()\n    };\n    postNewUser(newUser);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, \"Login\")), /*#__PURE__*/React.createElement(Route, {\n    path: \"/sign-up\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(SignUpForm, {\n    values: formValues,\n    onSubmit: onSubmit,\n    onInputChange: onInputChange,\n    errors: formErrors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/jamiesullivan/lambda/Frontend/salty-hackers/src/components/Sign Up/SignUp.js"],"names":["React","useState","axios","SignUpForm","Route","Link","yup","formSchema","intaialFormValues","first_name","last_name","username","password","initalFormErrors","url","SignUp","formValues","setFormValues","users","addUsers","formErrors","setFormErrors","postNewUser","newUser","post","then","res","console","log","data","catch","err","finally","onInputChange","evt","name","target","value","reach","validate","valid","errors","onSubmit","preventDefault","trim"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport SignUpForm from './SignUpForm';\nimport { Route, Link} from 'react-router-dom';\nimport * as yup from 'yup'\nimport formSchema from './validation/formSchema'\n\n\nconst intaialFormValues = {\n    first_name: '',\n    last_name: '',\n    username: '',\n    password: ''\n  }\n  \n  const initalFormErrors = {\n    first_name: '',\n    last_name: '',\n    username: '',\n    password: ''\n  }\n\n  const url = `https://reqres.in/api/users`\n\n  export default function SignUp() {\n    //state\n\n    const [ formValues, setFormValues ] = useState(intaialFormValues)\n    const [ users, addUsers] = useState([])\n    const [ formErrors, setFormErrors ] = useState(initalFormErrors)\n\n  //post new user  \n    const postNewUser = newUser => {\n        axios.post(url, newUser)\n        .then(res => {\n          console.log(res)\n          addUsers([res.data, ...users])\n        })\n        .catch(err => {\n          debugger\n        })\n        .finally(() => {\n          setFormValues(intaialFormValues)\n        })\n      \n      }\n\n\n  //change handlers\n      const onInputChange = evt => {\n          const name = evt.target.name\n          const value = evt.target.value\n\n\n          yup\n    .reach(formSchema, name)\n    .validate(value)\n    .then(valid => {\n      setFormErrors({\n        ...formErrors,\n        [name]: ''\n      })\n    })\n    .catch(err => {\n      setFormErrors({\n        ...formErrors,\n        [name]:err.errors[0]\n      })\n    })\n\n          setFormValues({\n            ...formValues, [name]:value\n          })\n      }    \n\n        \n      const onSubmit = evt => {\n        evt.preventDefault()\n        const newUser = {\n            first_name: formValues.first_name.trim(),\n            last_name: formValues.last_name.trim(),\n            username: formValues.username.trim(),\n            password: formValues.password.trim(),\n          }\n      \n          postNewUser(newUser)\n          }\n\n\n      return (\n          \n          <div>\n            <Link to='/login'>\n              <button>Login</button>\n            </Link>\n            \n          \n              <Route path='/sign-up'> \n                <SignUpForm values = {formValues} onSubmit = {onSubmit}\n                onInputChange = {onInputChange} errors = {formErrors} />\n              </Route>\n          </div>\n\n      \n      \n\n      )\n\n\n  }\n\n\n  \n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}